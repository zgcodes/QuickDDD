/* ===========================================================
 * bootstrap-modal.js v2.2.4
 * ===========================================================
 * Copyright 2012 Jordan Schroter
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */!function(b){var f=function(a,b){this.init(a,b)};f.prototype={constructor:f,init:function(a,e){var c=this;this.options=e;this.$element=b(a);this.options.remote&&this.$element.find(".modal-body").load(this.options.remote,function(){var a=b.Event("loaded");c.$element.trigger(a)});var d="function"===typeof this.options.manager?this.options.manager.call(this):this.options.manager,d=d.appendModal?d:b(d).modalmanager().data("modalmanager");d.appendModal(this)},toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=b.Event("show");this.isShown||(this.$element.trigger(a),a.isDefaultPrevented()||(this.escape(),this.tab(),this.options.loading&&this.loading()))},hide:function(a){a&&a.preventDefault();a=b.Event("hide");this.$element.trigger(a);this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.tab(),this.isLoading&&this.loading(),b(document).off("focusin.modal"),this.$element.removeClass("in").removeClass("animated").removeClass(this.options.attentionAnimation).removeClass("modal-overflow").attr("aria-hidden",!0),b.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},layout:function(){var a=this.options.height?"height":"max-height",e=this.options.height||this.options.maxHeight;if(this.options.width){this.$element.css("width",this.options.width);var c=this;this.$element.css("margin-left",function(){return/%/ig.test(c.options.width)?-(parseInt(c.options.width)/2)+"%":-(b(this).width()/2)+"px"})}else this.$element.css("width",""),this.$element.css("margin-left","");this.$element.removeClass("modal-overflow-x");b(window).width()-10<this.$element.width()?this.$element.addClass("modal-overflow-x").css("margin-left",0).css("width","99%"):this.$element.css("margin-left",0-this.$element.width()/2).removeClass("modal-overflow-x");e&&(this.$element.addClass("modal-frame"),this.$element.css(a,e));this.$element.removeClass("modal-overflow");b(window).height()-10<this.$element.height()||this.options.modalOverflow?this.$element.addClass("modal-overflow").css("margin-top",0):this.$element.css("margin-top",0-this.$element.height()/2-(b(window).height()-this.$element.height())/5).removeClass("modal-overflow")},tab:function(){var a=this;if(this.isShown&&this.options.consumeTab)this.$element.on("keydown.tabindex.modal","[data-tabindex]",function(e){if(e.keyCode&&9==e.keyCode){var c=b(this),d=b(this);a.$element.find("[data-tabindex]:enabled:not([readonly])").each(function(a){c=a.shiftKey?c.data("tabindex")>b(this).data("tabindex")?c=b(this):d=b(this):c.data("tabindex")<b(this).data("tabindex")?c=b(this):d=b(this)});c[0]!==b(this)[0]?c.focus():d.focus();e.preventDefault()}});else this.isShown||this.$element.off("keydown.tabindex.modal")},escape:function(){this.isShown&&this.options.keyboard?this.$element.attr("tabindex")||this.$element.attr("tabindex",-1):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,e=setTimeout(function(){a.$element.off(b.support.transition.end);a.hideModal()},500);this.$element.one(b.support.transition.end,function(){clearTimeout(e);a.hideModal()})},hideModal:function(){var a=this.options.height?"height":"max-height";(this.options.height||this.options.maxHeight)&&this.$element.find(".modal-body").css("overflow","").css(a,"");this.$element.hide().trigger("hidden")},removeLoading:function(){this.$loading.remove();this.$loading=null;this.isLoading=!1},loading:function(a){a=a||function(){};var e=this.$element.hasClass("fade")?"fade":"";if(this.isLoading)if(this.isLoading&&this.$loading){this.$loading.removeClass("in");var c=this;b.support.transition&&this.$element.hasClass("fade")?this.$loading.one(b.support.transition.end,function(){c.removeLoading()}):c.removeLoading()}else a&&a(this.isLoading);else{var d=b.support.transition&&e;this.$loading=b('\x3cdiv class\x3d"loading-mask '+e+'"\x3e').append(this.options.spinner).appendTo(this.$element);d&&this.$loading[0].offsetWidth;this.$loading.addClass("in");this.isLoading=!0;d?this.$loading.one(b.support.transition.end,a):a()}},focus:function(){var a=this.$element.find(this.options.focusOn),a=a.length?a:this.$element;a.focus()},attention:function(){if(this.options.attentionAnimation){this.$element.removeClass("animated").removeClass(this.options.attentionAnimation);var a=this;setTimeout(function(){a.$element.addClass("animated").addClass(a.options.attentionAnimation)},0)}this.focus()},destroy:function(){var a=b.Event("destroy");this.$element.trigger(a);a.isDefaultPrevented()||(this.$element.off(".modal").removeData("modal").removeClass("in").attr("aria-hidden",!0),this.$parent!==this.$element.parent()?this.$element.appendTo(this.$parent):this.$parent.length||(this.$element.remove(),this.$element=null),this.$element.trigger("destroyed"))}};b.fn.modal=function(a,e){return this.each(function(){var c=b(this),d=c.data("modal"),g=b.extend({},b.fn.modal.defaults,c.data(),"object"==typeof a&&a);d||c.data("modal",d=new f(this,g));"string"==typeof a?d[a].apply(d,[].concat(e)):g.show&&d.show()})};b.fn.modal.defaults={keyboard:!0,backdrop:!0,loading:!1,show:!0,width:null,height:null,maxHeight:null,modalOverflow:!1,consumeTab:!0,focusOn:null,replace:!1,resize:!0,attentionAnimation:"shake",manager:"body",spinner:'\x3cdiv class\x3d"loading-spinner" style\x3d"width: 200px; margin-left: -100px;"\x3e\x3cdiv class\x3d"progress progress-striped active"\x3e\x3cdiv class\x3d"bar" style\x3d"width: 100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',backdropTemplate:'\x3cdiv class\x3d"modal-backdrop" /\x3e'};b.fn.modal.Constructor=f;b(function(){b(document).off("click.modal").on("click.modal.data-api",'[data-toggle\x3d"modal"]',function(a){var e=b(this),c=e.attr("href"),d=b(e.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,"")),c=d.data("modal")?"toggle":b.extend({remote:!/#/.test(c)&&c},d.data(),e.data());a.preventDefault();d.modal(c).one("hide",function(){e.focus()})})})}(window.jQuery);